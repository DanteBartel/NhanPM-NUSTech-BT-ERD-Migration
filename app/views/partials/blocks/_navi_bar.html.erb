<% if user_signed_in? %>
    <% if current_user.is_admin %>
        <% logo_content = "Fotobook Admin" %>
        <% profile_path = "/passthrough/index" %>
    <% else %>
        <% logo_content = "Fotobook" %>
        <% profile_path = "/profile/photos" %>
    <% end %>
    <% user_avatar = current_user.avatar %>
    <% user_name = current_user.fname + " " + current_user.lname %>
    <% inout_content = "Logout" %>
    <% inout_path = "/users/sign_out" %>
    <% inout_method = :delete %>
<% else %>
    <% logo_content = "Fotobook" %>
    <% user_avatar = nil %>
    <% user_name = "Guest" %>
    <% inout_content = "Login" %>
    <% inout_path = "/users/sign_in" %>
    <% inout_method = :get %>
    <% profile_path = "/passthrough/index" %>
<% end %>

<!-- ##################################### -->
<nav class="head-navigation-bar bg-theme navbar navbar-expand-sm py-1 sticky-top">
    <div class="container-fluid justify-content-start">
        <!-- Logo -->        
        <%= link_to logo_content, "/passthrough/index", method: :get, class: "navigation-bar-logo col-4 col-xl-2 px-1 px-xl-4 text-start text-xl-end" %>
        <!-- Search bar -->
        <div class="me-auto py-1 order-4 order-xl-2">
            <input type="search" placeholder="Search Photo / Album">
        </div>
        <!-- profile -->
        <div class="py-1 ms-auto ms-xl-0 me-3 me-xl-5 order-2 order-xl-3">
            <%= render partial: "partials/buttons/profile_tag", locals: {profile_path: profile_path, user_avatar: user_avatar, user_name: user_name, type: "navi"} %>
        </div>
        <!-- Log in / Log out -->
        <%= link_to inout_content, inout_path, method: inout_method, class: "navigation-bar-inout pe-2 order-3 order-xl-4" %>
        <!-- Collapse side bar button -->
        <button class="btn border order-5 d-xl-none" type="button" data-bs-toggle="collapse" data-bs-target="#collapSideBar" aria-expanded="false" aria-controls="collapSideBar">
            <img src="/icon/menu-2-white.svg" alt="menu-icon">
        </button>                
    </div>
</nav>